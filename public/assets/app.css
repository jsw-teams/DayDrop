:root{
  --bg:#0b0c0f; --text:#f8fafc; --card:#111317; --muted:#cbd5e1; --border:#374151;
  --btn:#e5e7eb; --btn-ink:#0b0c0f;
  --bg-image:none;                    /* 由 JS 注入 url(...) */
  --bg-filter:brightness(0.45) saturate(1.15);
}

@media (prefers-color-scheme: light){
  :root{
    --bg:#0b0f14; --text:#0b1220; --card:#ffffff; --muted:#475569; --border:#1f2937;
    --btn:#0f172a; --btn-ink:#ffffff;
    --bg-filter:brightness(0.75) saturate(1.1);
  }
}

html,body{height:100%}
body{
  margin:0;background:var(--bg);color:var(--text);
  font:16px/1.6 system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;
  -webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;
  position:relative;
}
body::before{
  content:""; position:fixed; inset:0; z-index:-1;
  background:center/cover no-repeat var(--bg);
  background-image:var(--bg-image);
  filter:var(--bg-filter);
}

a{color:inherit;text-decoration:none}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}
.skip{position:absolute;left:-9999px}
.skip:focus{left:16px;top:12px;padding:8px 12px;background:var(--card);color:var(--text);border-radius:10px;box-shadow:0 1px 2px rgba(0,0,0,.4)}

header{display:flex;align-items:center;gap:12px;padding:16px}
.upload-link,.home-link{display:inline-flex;align-items:center;gap:8px;padding:10px 12px;border:2px solid var(--border);border-radius:12px;background:var(--card)}
.upload-link:focus-visible,.home-link:focus-visible{outline:3px solid currentColor;outline-offset:2px}
.brand{font-weight:800;letter-spacing:.2px;font-size:clamp(18px,2.6vw,22px);color:var(--text)}

main{display:grid;place-items:start center;padding:clamp(16px,3vw,32px)}
.wrap{width:min(720px,100%)}
.card{background:var(--card);border:2px solid var(--border);border-radius:18px;padding:clamp(18px,2.5vw,26px);box-shadow:0 2px 8px rgba(0,0,0,.22)}
h1{color:var(--text);text-shadow:0 1px 0 rgba(0,0,0,.28);font-size:clamp(24px,3.5vw,34px);line-height:1.2;margin:0 0 14px;text-align:center}

label{display:block;margin-bottom:6px;font-weight:700}
input[type="text"]{width:13ch;padding:14px 16px;border:2px solid var(--border);border-radius:12px;font-size:clamp(18px,4vw,22px);letter-spacing:2px;background:transparent;color:inherit}
input[type="text"]:focus-visible, textarea:focus-visible{outline:3px solid currentColor;outline-offset:2px}
input[type="file"], textarea{width:100%}
textarea{padding:12px;border:2px solid var(--border);border-radius:12px;background:transparent;color:inherit}
.drop{border:2px dashed var(--border);border-radius:14px;padding:20px;text-align:center}
.drop[aria-busy="true"]{opacity:.75}

.help{color:var(--muted);font-size:14px}
.footer{color:var(--muted);font-size:13px;text-align:center;margin-top:12px}

.btn{padding:12px 16px;border-radius:12px;border:0;background:var(--btn);color:var(--btn-ink);font-weight:800}
.btn[disabled]{opacity:.6;cursor:not-allowed}
.btn:focus-visible{outline:3px solid currentColor;outline-offset:2px}

.msg{min-height:1.6em}
.ok{color:#22c55e}
.err{color:#ef4444}
.mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}

@media (forced-colors: active){.upload-link,.home-link,.card,input[type="text"],textarea{border:1px solid CanvasText}}
@media (prefers-reduced-motion: reduce){*{animation:none !important;transition:none !important}}
